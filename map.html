<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Miami Art Week mApp</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Include the compiled Ratchet CSS -->
    <link href="dist/css/ratchet.css" rel="stylesheet">

    <!-- Include the compiled Ratchet JS -->
    <script src="dist/js/ratchet.js"></script>

    <!-- Include the phonegap JS -->
    <!--<script src="phonegap.js"></script>-->

    <!-- styles CSS -->
    <link href="dist/css/custom.css" rel="stylesheet">
    <link href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' rel='stylesheet' />


    <!-- javascript link-->
      <script src="dist/js/bower_components/jquery/dist/jquery.min.js"></script>
      <script src="dist/js/accordion.js"></script>
      <script src='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
  </head>
  <body>

    <!-- Make sure all your bars are the first things in your <body> -->
    <header class="bar bar-nav">
        <button class="btn pull-left">
            <a href="index.html"  data-transition="slide-out">Menu</a>
        </button>
        <img src="dist/img/mawlogo.png" height="100%" alt="Miami Art Week mApp" class="headerlogo">
    </header>

    <!--bottom nav-->

    <nav class="btm-barnav bar bar-tab">
        <a class="tab-item" href="#">
            Map
        </a>
        <a class="tab-item" href="events.html"  data-transition="slide-in">
            Events
        </a>
        <a class="tab-item" href="explore.html"  data-transition="slide-in">
            Explore
        </a>
    </nav>    

    <!-- Wrap all non-bar HTML in the .content div (this is actually what scrolls) -->
    <div class="content">

        <div class="segmented-control">
              <a class="control-item" href="#all" onclick="mapAll();">
                ALL
              </a>
              <a class="control-item" href="#downtown" onclick="moveDowntown();">
                DOWNTOWN
              </a>
              <a class="control-item" href="#miamibeach" onclick="moveMiamiBeach();">
                MIAMI BEACH
              </a>
              <a class="control-item" href="#midtown" onclick="moveMidtown();">
                MIDTOWN
              </a>
              <a class="control-item" href="#wynwood"  onclick="moveWynwood();">
                WYNWOOD
              </a>
        </div>
        <!--<span class="mainslideicon icon icon-up"></span>-->
            <div class="mapcard">
                        <div>
                            <div id="container">
                              <div id='map'>
                                <div id="main" style="height: 90vh;">
                                    <iframe width='100%' height='100%' frameBorder='0' src='https://a.tiles.mapbox.com/v4/mawmapp.e163ed3e/attribution,zoompan,zoomwheel,geocoder,share.html?access_token=pk.eyJ1IjoibWF3bWFwcCIsImEiOiJlZTcxNWQ0NTUwMGZlMWY4NGJjZGM1MWNhZjgwNjQyYiJ9.rhqya-EKOClCGCt8YSaeAg'></iframe>
                                </div>
                              </div><!--end map-->



                                <!--<div class="mainslide mainslidedown">
                                      
                                    <ul class="table-view downtown">
                                        <li class="table-view-cell table-view-divider">Downtown</li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                <p id="info"></p>
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 2
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 3
                                            </a>
                                        </li>
                                    </ul>

                                    <ul class="table-view miamibeach">
                                        <li class="table-view-cell table-view-divider">Miami Beach</li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 1
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 2
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 3
                                            </a>
                                        </li>
                                    </ul>

                                    <ul class="table-view midtown">
                                        <li class="table-view-cell table-view-divider">Midtown</li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 1
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 2
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 3
                                            </a>
                                        </li>
                                    </ul>

                                    <ul class="table-view wynwood">
                                        <li class="table-view-cell table-view-divider">Wynwood</li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 1
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 2
                                            </a>
                                        </li>
                                        <li class="table-view-cell">
                                            <a class="navigate-right">
                                                Item 3
                                            </a>
                                        </li>
                                    </ul>
                                </div><!--End Slide up-->-->
                            </div><!--end container-->
                        </div><!--end content-->
            </div>
    </div><!--end content-->


  </body>


  <!-- Mapbox prevent ZoomOut -->
  <script>

      L.mapbox.accessToken = 'pk.eyJ1IjoibWF3bWFwcCIsImEiOiJlZTcxNWQ0NTUwMGZlMWY4NGJjZGM1MWNhZjgwNjQyYiJ9.rhqya-EKOClCGCt8YSaeAg';


      // Construct a bounding box for this map that the user cannot
      // move out of
      var southWest = L.latLng(25.750941, -80.214257),
              northEast = L.latLng(25.857268, -80.119157),
              bounds = L.latLngBounds(southWest, northEast);


      var map = L.mapbox.map('map', 'mawmapp.e163ed3e', {
          // set that bounding box as maxBounds to restrict moving the map
          // see full maxBounds documentation:
          // http://leafletjs.com/reference.html#map-maxbounds
          maxBounds: bounds,
          maxZoom: 14,
          minZoom: 12
      });

      map.fitBounds(bounds);
//initial spot
      map.setView([25.789845, -80.134792], 12);
      function mapAll(){
          map.setView([25.789845, -80.134792], 12);
          $(".table-view.downtown").show();
          $(".table-view.miamibeach").show();
          $(".table-view.midtown").show();
          $(".table-view.wynwood").show();
      }
//downtown

      function moveDowntown(){

          map.setView([25.7667, -80.2000], 14);
          $(".table-view.downtown").show();
          $(".table-view.miamibeach").hide();
          $(".table-view.midtown").hide();
          $(".table-view.wynwood").hide();
      }
// miami beach
      function moveMiamiBeach(){

          map.setView([25.789845, -80.134792], 14);
          $(".table-view.downtown").hide();
          $(".table-view.miamibeach").show();
          $(".table-view.midtown").hide();
          $(".table-view.wynwood").hide();
      }
// midtown
      function moveMidtown(){
         map.setView([25.825196, -80.197978], 14);
          $(".table-view.downtown").hide();
          $(".table-view.miamibeach").hide();
          $(".table-view.midtown").show();
          $(".table-view.wynwood").hide();
      }
// wynwood
      function moveWynwood(){

          map.setView([25.804472, -80.198736], 14);
          $(".table-view.downtown").hide();
          $(".table-view.miamibeach").hide();
          $(".table-view.midtown").hide();
          $(".table-view.wynwood").show();
      }

      //json data
      var info = document.getElementById("info");
      $.ajax({
          url: 'dist/js/data.json',
          dataType: 'json',
          success: function(data){
              info.innerHTML=data.location[0].downtown.fairs.concept.name;

          }
      });


//Position function to match links from menu to maps. From the menu added anchor links to url and using this function looking to see if the id i called and if it is then runs the function to the already called map function.
      function position(){
          if( window.location.hash == '#downtown' ){
              moveDowntown();
          }else if( window.location.hash == '#miamibeach' ){
              moveMiamiBeach();
          }else if( window.location.hash == '#midtown' ){
              moveMidtown();
          }else if( window.location.hash == '#wynwood' ){
              moveWynwood();
          }else if( window.location.hash == '#all' ) {
              mapAll();
          }else{

          }
      }
      position();


  </script>


  <!--<script>
    var slideup = $(".mainslide");
    var slideupicon = $("span");
    slideupicon.click(function(){
        if(slideup.hasClass("mainslidedown")){
            slideup.removeClass("mainslidedown").addClass("mainslideup");
            slideupicon.removeClass("icon-up").addClass("icon-down");
        }else {
            slideup.addClass("mainslidedown").removeClass("mainslideup");
            slideupicon.removeClass("icon-down").addClass("icon-up");
        }
    })

</script>-->



</html>